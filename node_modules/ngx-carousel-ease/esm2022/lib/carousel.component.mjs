import { ChangeDetectionStrategy, Component, Inject, Input, PLATFORM_ID, } from '@angular/core';
import { fromEvent } from 'rxjs';
import { Carousel } from './carousel';
import { Slider } from './slider';
import { CommonModule, isPlatformBrowser } from '@angular/common';
import { Validation } from './validation';
import * as i0 from "@angular/core";
import * as i1 from "./carousel.service";
import * as i2 from "@angular/common";
export class CarouselComponent {
    constructor(elementRef, changeDetection, carouselService, platformId) {
        this.elementRef = elementRef;
        this.changeDetection = changeDetection;
        this.carouselService = carouselService;
        this.infinite = false;
        this.responsive = true;
        this.autoSlide = true;
        this.slideToShow = 3;
        this.slideToScroll = 2;
        this.autoslideLimitPercentCard = 30;
        this.strechingLimit = 60;
        this.slideWidth = 300;
        this.slideMaxWidth = 500;
        this.dots = true;
        this.arrows = true;
        this.counter = true;
        this.enableMouseDrag = true;
        this.enableTouch = true;
        this.counterSeparator = '/';
        this.gapBetweenSlides = 16;
        this.animationTimingMs = 300;
        this.maxDomSize = 4;
        this.animationTimingFn = 'ease-out';
        this.isBrowser = true;
        this.isBrowser = isPlatformBrowser(platformId);
    }
    ngAfterViewInit() {
        if (!this.isBrowser)
            return;
        const carouselContainer = this.elementRef.nativeElement
            .firstChild;
        new Validation(carouselContainer, this.slideWidth, this.slideMaxWidth, this.gapBetweenSlides);
        this.carousel = new Carousel(carouselContainer, this.maxWidthCarousel, this.slideToShow, this.slideWidth, this.slideMaxWidth, this.gapBetweenSlides, this.responsive, this.infinite);
        this.slider = new Slider(this.carousel, this.responsive, this.slideToScroll, this.autoslideLimitPercentCard, this.strechingLimit, this.autoSlide, this.animationTimingFn, this.animationTimingMs, this.maxDomSize, this.enableMouseDrag, this.enableTouch, this.infinite, this.carouselService);
        this.listeners();
        this.changeDetection.markForCheck();
    }
    ngAfterContentInit() { }
    listeners() {
        this.mouseupSubscription = fromEvent(window, 'mouseup').subscribe((event) => {
            if (!this.slider?.dragging)
                return;
            this.slider?.dragStop(event);
        });
        this.VChangeSubscription = fromEvent(document, 'visibilitychange').subscribe((event) => {
            this.slider?.unActiveTab(event);
        });
        this.resizeSubscription = fromEvent(window, 'resize').subscribe(() => {
            this.resize();
        });
    }
    /**
     * Reinitialise variables at resize
     */
    resize() {
        if (!this.slider)
            return;
        this.carousel?.updateProperties();
        this.slider.updateProperties();
        this.slider.currentSlide = 0;
        this.slider.accumulatedSlide = 0;
        this.slider.computeTransformation(0);
        this.slider.changePrevAndNextLimits(0);
        this.carouselService.onChange(this.slider.currentSlide, this.slider.currentCarouselID);
        this.changeDetection.markForCheck();
    }
    ngOnDestroy() {
        this.mouseupSubscription?.unsubscribe();
        this.VChangeSubscription?.unsubscribe();
        this.resizeSubscription?.unsubscribe();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.0.8", ngImport: i0, type: CarouselComponent, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1.CarouselService }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.0.8", type: CarouselComponent, isStandalone: true, selector: "carousel", inputs: { maxWidthCarousel: "maxWidthCarousel", infinite: "infinite", responsive: "responsive", autoSlide: "autoSlide", slideToShow: "slideToShow", slideToScroll: "slideToScroll", autoslideLimitPercentCard: "autoslideLimitPercentCard", strechingLimit: "strechingLimit", slideWidth: "slideWidth", slideMaxWidth: "slideMaxWidth", dots: "dots", arrows: "arrows", counter: "counter", enableMouseDrag: "enableMouseDrag", enableTouch: "enableTouch", counterSeparator: "counterSeparator", gapBetweenSlides: "gapBetweenSlides", animationTimingMs: "animationTimingMs", maxDomSize: "maxDomSize", animationTimingFn: "animationTimingFn" }, ngImport: i0, template: "<div class=\"carousel-container\">\r\n  <div class=\"banner-container\">\r\n    <div class=\"btn-container\" *ngIf=\"arrows\">\r\n      <button\r\n        class=\"prev\"\r\n        aria-label=\"previous button navigation\"\r\n        (click)=\"slider?.prev()\"\r\n        [disabled]=\"\r\n          !infinite &&\r\n          ((slider?.currentSlide === 0 &&\r\n            (slider?.currentTranslation || 0) >= 0) ||\r\n            carousel?.numberDots === 1)\r\n        \"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"16\"\r\n          width=\"16\"\r\n          viewBox=\"0 0 512 512\"\r\n        >\r\n          <path\r\n            d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <button\r\n        class=\"next\"\r\n        aria-label=\"next button navigation\"\r\n        (click)=\"slider?.next()\"\r\n        [disabled]=\"\r\n          !infinite &&\r\n          ((slider?.currentSlide === (carousel?.numberDots || 0) - 1 &&\r\n            (slider?.currentTranslation || 0) <=\r\n              -(carousel?.maxScrollableContent || 0)) ||\r\n            carousel?.numberDots === 1)\r\n        \"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"16\"\r\n          width=\"16\"\r\n          viewBox=\"0 0 512 512\"\r\n        >\r\n          <path\r\n            d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <div class=\"counter\" *ngIf=\"counter\">\r\n      <p>\r\n        {{ (slider?.currentSlide || 0) + 1 }} {{ counterSeparator }}\r\n        {{ carousel?.numberDots }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n  <div\r\n    class=\"slides-container\"\r\n    [class.dragging]=\"slider?.dragging\"\r\n    (mousedown)=\"slider?.dragStart($event)\"\r\n    (touchstart)=\"slider?.dragStart($event)\"\r\n    (mousemove)=\"slider?.dragMove($event)\"\r\n    (touchmove)=\"slider?.dragMove($event)\"\r\n    (touchend)=\"slider?.dragStop($event)\"\r\n    #slides\r\n  >\r\n    <ng-content></ng-content>\r\n  </div>\r\n\r\n  <div class=\"bullets-container\" *ngIf=\"dots\">\r\n    <button\r\n      class=\"bullet\"\r\n      aria-label=\"bullet point navigation\"\r\n      *ngFor=\"let bullet of carousel?.arrayNumberDots\"\r\n      [class.current]=\"bullet === slider?.currentSlide\"\r\n      (click)=\"slider?.goTo(bullet)\"\r\n    ></button>\r\n  </div>\r\n</div>\r\n", styles: ["*{margin:0;padding:0;box-sizing:border-box}.carousel-container{position:relative;overflow-x:hidden;padding:.2rem}.slides-container{display:grid;grid-auto-flow:column;justify-items:center;transform:translateZ(0);margin:auto}.banner-container{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:.5rem}.counter{background:#e6e6e6;padding:.3rem .7rem;border-radius:1rem;min-width:3.75rem;text-align:center}.prev,.next{background:#0079b4;padding:.5rem;color:#fff;border-radius:.3rem;box-shadow:0 2px 4px #9e9e9ed4;border:none;cursor:pointer;z-index:1;transition:.4s}.prev svg,.next svg{fill:#fff}.prev,.next{display:inline-flex;align-items:center;justify-content:center}.prev{margin-right:1rem}.prev:disabled,.next:disabled{opacity:.3;cursor:not-allowed}.bullets-container{display:flex;justify-content:center;gap:1rem;margin-top:2rem}.bullet{display:block;width:.8rem;height:.8rem;border:none;border-radius:50%;background:#dbdada;cursor:pointer;transition:background-color .4s}.bullet.current{background:#0079b4}.slides-container.dragging{cursor:grab}@media (min-width: 650px){.prev,.next{position:absolute;top:50%;left:0;transform:translateY(-50%)}.prev{margin-left:2rem}.next{margin-right:2rem;right:0;left:auto}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.0.8", ngImport: i0, type: CarouselComponent, decorators: [{
            type: Component,
            args: [{ selector: 'carousel', imports: [CommonModule], standalone: true, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"carousel-container\">\r\n  <div class=\"banner-container\">\r\n    <div class=\"btn-container\" *ngIf=\"arrows\">\r\n      <button\r\n        class=\"prev\"\r\n        aria-label=\"previous button navigation\"\r\n        (click)=\"slider?.prev()\"\r\n        [disabled]=\"\r\n          !infinite &&\r\n          ((slider?.currentSlide === 0 &&\r\n            (slider?.currentTranslation || 0) >= 0) ||\r\n            carousel?.numberDots === 1)\r\n        \"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"16\"\r\n          width=\"16\"\r\n          viewBox=\"0 0 512 512\"\r\n        >\r\n          <path\r\n            d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <button\r\n        class=\"next\"\r\n        aria-label=\"next button navigation\"\r\n        (click)=\"slider?.next()\"\r\n        [disabled]=\"\r\n          !infinite &&\r\n          ((slider?.currentSlide === (carousel?.numberDots || 0) - 1 &&\r\n            (slider?.currentTranslation || 0) <=\r\n              -(carousel?.maxScrollableContent || 0)) ||\r\n            carousel?.numberDots === 1)\r\n        \"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          height=\"16\"\r\n          width=\"16\"\r\n          viewBox=\"0 0 512 512\"\r\n        >\r\n          <path\r\n            d=\"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <div class=\"counter\" *ngIf=\"counter\">\r\n      <p>\r\n        {{ (slider?.currentSlide || 0) + 1 }} {{ counterSeparator }}\r\n        {{ carousel?.numberDots }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n  <div\r\n    class=\"slides-container\"\r\n    [class.dragging]=\"slider?.dragging\"\r\n    (mousedown)=\"slider?.dragStart($event)\"\r\n    (touchstart)=\"slider?.dragStart($event)\"\r\n    (mousemove)=\"slider?.dragMove($event)\"\r\n    (touchmove)=\"slider?.dragMove($event)\"\r\n    (touchend)=\"slider?.dragStop($event)\"\r\n    #slides\r\n  >\r\n    <ng-content></ng-content>\r\n  </div>\r\n\r\n  <div class=\"bullets-container\" *ngIf=\"dots\">\r\n    <button\r\n      class=\"bullet\"\r\n      aria-label=\"bullet point navigation\"\r\n      *ngFor=\"let bullet of carousel?.arrayNumberDots\"\r\n      [class.current]=\"bullet === slider?.currentSlide\"\r\n      (click)=\"slider?.goTo(bullet)\"\r\n    ></button>\r\n  </div>\r\n</div>\r\n", styles: ["*{margin:0;padding:0;box-sizing:border-box}.carousel-container{position:relative;overflow-x:hidden;padding:.2rem}.slides-container{display:grid;grid-auto-flow:column;justify-items:center;transform:translateZ(0);margin:auto}.banner-container{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:.5rem}.counter{background:#e6e6e6;padding:.3rem .7rem;border-radius:1rem;min-width:3.75rem;text-align:center}.prev,.next{background:#0079b4;padding:.5rem;color:#fff;border-radius:.3rem;box-shadow:0 2px 4px #9e9e9ed4;border:none;cursor:pointer;z-index:1;transition:.4s}.prev svg,.next svg{fill:#fff}.prev,.next{display:inline-flex;align-items:center;justify-content:center}.prev{margin-right:1rem}.prev:disabled,.next:disabled{opacity:.3;cursor:not-allowed}.bullets-container{display:flex;justify-content:center;gap:1rem;margin-top:2rem}.bullet{display:block;width:.8rem;height:.8rem;border:none;border-radius:50%;background:#dbdada;cursor:pointer;transition:background-color .4s}.bullet.current{background:#0079b4}.slides-container.dragging{cursor:grab}@media (min-width: 650px){.prev,.next{position:absolute;top:50%;left:0;transform:translateY(-50%)}.prev{margin-left:2rem}.next{margin-right:2rem;right:0;left:auto}}\n"] }]
        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.CarouselService }, { type: Object, decorators: [{
                    type: Inject,
                    args: [PLATFORM_ID]
                }] }], propDecorators: { maxWidthCarousel: [{
                type: Input
            }], infinite: [{
                type: Input
            }], responsive: [{
                type: Input
            }], autoSlide: [{
                type: Input
            }], slideToShow: [{
                type: Input
            }], slideToScroll: [{
                type: Input
            }], autoslideLimitPercentCard: [{
                type: Input
            }], strechingLimit: [{
                type: Input
            }], slideWidth: [{
                type: Input
            }], slideMaxWidth: [{
                type: Input
            }], dots: [{
                type: Input
            }], arrows: [{
                type: Input
            }], counter: [{
                type: Input
            }], enableMouseDrag: [{
                type: Input
            }], enableTouch: [{
                type: Input
            }], counterSeparator: [{
                type: Input
            }], gapBetweenSlides: [{
                type: Input
            }], animationTimingMs: [{
                type: Input
            }], maxDomSize: [{
                type: Input
            }], animationTimingFn: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2Fyb3VzZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvY2Fyb3VzZWwvc3JjL2xpYi9jYXJvdXNlbC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9jYXJvdXNlbC9zcmMvbGliL2Nhcm91c2VsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHTCx1QkFBdUIsRUFFdkIsU0FBUyxFQUVULE1BQU0sRUFDTixLQUFLLEVBQ0wsV0FBVyxHQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBZ0IsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9DLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFdEMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNsQyxPQUFPLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGNBQWMsQ0FBQzs7OztBQVcxQyxNQUFNLE9BQU8saUJBQWlCO0lBNEI1QixZQUNVLFVBQXNDLEVBQ3RDLGVBQWtDLEVBQ2xDLGVBQWdDLEVBQ25CLFVBQWtCO1FBSC9CLGVBQVUsR0FBVixVQUFVLENBQTRCO1FBQ3RDLG9CQUFlLEdBQWYsZUFBZSxDQUFtQjtRQUNsQyxvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUE3QmpDLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixjQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLGtCQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLDhCQUF5QixHQUFHLEVBQUUsQ0FBQztRQUMvQixtQkFBYyxHQUFHLEVBQUUsQ0FBQztRQUNwQixlQUFVLEdBQUcsR0FBRyxDQUFD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LEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLHlCQUF5QjtzQkFBakMsS0FBSztnQkFDRyxjQUFjO3NCQUF0QixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csYUFBYTtzQkFBckIsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csTUFBTTtzQkFBZCxLQUFLO2dCQUNHLE9BQU87c0JBQWYsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csZ0JBQWdCO3NCQUF4QixLQUFLO2dCQUNHLGdCQUFnQjtzQkFBeEIsS0FBSztnQkFDRyxpQkFBaUI7c0JBQXpCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxpQkFBaUI7c0JBQXpCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIEFmdGVyQ29udGVudEluaXQsXHJcbiAgQWZ0ZXJWaWV3SW5pdCxcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICBDb21wb25lbnQsXHJcbiAgRWxlbWVudFJlZixcclxuICBJbmplY3QsXHJcbiAgSW5wdXQsXHJcbiAgUExBVEZPUk1fSUQsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENhcm91c2VsIH0gZnJvbSAnLi9jYXJvdXNlbCc7XHJcbmltcG9ydCB7IEFuaW1hdGlvblRpbWluZ0ZuIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSAnLi9zbGlkZXInO1xyXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUsIGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgVmFsaWRhdGlvbiB9IGZyb20gJy4vdmFsaWRhdGlvbic7XHJcbmltcG9ydCB7IENhcm91c2VsU2VydmljZSB9IGZyb20gJy4vY2Fyb3VzZWwuc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2Nhcm91c2VsJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vY2Fyb3VzZWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2Nhcm91c2VsLmNvbXBvbmVudC5jc3MnXSxcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcclxuICBzdGFuZGFsb25lOiB0cnVlLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2Fyb3VzZWxDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0LCBBZnRlclZpZXdJbml0IHtcclxuICBASW5wdXQoKSBtYXhXaWR0aENhcm91c2VsITogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIGluZmluaXRlID0gZmFsc2U7XHJcbiAgQElucHV0KCkgcmVzcG9uc2l2ZSA9IHRydWU7XHJcbiAgQElucHV0KCkgYXV0b1NsaWRlID0gdHJ1ZTtcclxuICBASW5wdXQoKSBzbGlkZVRvU2hvdyA9IDM7XHJcbiAgQElucHV0KCkgc2xpZGVUb1Njcm9sbCA9IDI7XHJcbiAgQElucHV0KCkgYXV0b3NsaWRlTGltaXRQZXJjZW50Q2FyZCA9IDMwO1xyXG4gIEBJbnB1dCgpIHN0cmVjaGluZ0xpbWl0ID0gNjA7XHJcbiAgQElucHV0KCkgc2xpZGVXaWR0aCA9IDMwMDtcclxuICBASW5wdXQoKSBzbGlkZU1heFdpZHRoID0gNTAwO1xyXG4gIEBJbnB1dCgpIGRvdHMgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGFycm93cyA9IHRydWU7XHJcbiAgQElucHV0KCkgY291bnRlciA9IHRydWU7XHJcbiAgQElucHV0KCkgZW5hYmxlTW91c2VEcmFnID0gdHJ1ZTtcclxuICBASW5wdXQoKSBlbmFibGVUb3VjaCA9IHRydWU7XHJcbiAgQElucHV0KCkgY291bnRlclNlcGFyYXRvciA9ICcvJztcclxuICBASW5wdXQoKSBnYXBCZXR3ZWVuU2xpZGVzID0gMTY7XHJcbiAgQElucHV0KCkgYW5pbWF0aW9uVGltaW5nTXMgPSAzMDA7XHJcbiAgQElucHV0KCkgbWF4RG9tU2l6ZSA9IDQ7XHJcbiAgQElucHV0KCkgYW5pbWF0aW9uVGltaW5nRm46IEFuaW1hdGlvblRpbWluZ0ZuID0gJ2Vhc2Utb3V0JztcclxuICBtb3VzZXVwU3Vic2NyaXB0aW9uITogU3Vic2NyaXB0aW9uO1xyXG4gIFZDaGFuZ2VTdWJzY3JpcHRpb24hOiBTdWJzY3JpcHRpb247XHJcbiAgcmVzaXplU3Vic2NyaXB0aW9uITogU3Vic2NyaXB0aW9uO1xyXG4gIGNhcm91c2VsITogQ2Fyb3VzZWwgfCB1bmRlZmluZWQ7XHJcbiAgc2xpZGVyITogU2xpZGVyIHwgdW5kZWZpbmVkO1xyXG4gIGlzQnJvd3NlciA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmPEhUTUxEaXZFbGVtZW50PixcclxuICAgIHByaXZhdGUgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHByaXZhdGUgY2Fyb3VzZWxTZXJ2aWNlOiBDYXJvdXNlbFNlcnZpY2UsXHJcbiAgICBASW5qZWN0KFBMQVRGT1JNX0lEKSBwbGF0Zm9ybUlkOiBPYmplY3RcclxuICApIHtcclxuICAgIHRoaXMuaXNCcm93c2VyID0gaXNQbGF0Zm9ybUJyb3dzZXIocGxhdGZvcm1JZCk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNCcm93c2VyKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY2Fyb3VzZWxDb250YWluZXIgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudFxyXG4gICAgICAuZmlyc3RDaGlsZCBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgICBuZXcgVmFsaWRhdGlvbihcclxuICAgICAgY2Fyb3VzZWxDb250YWluZXIsXHJcbiAgICAgIHRoaXMuc2xpZGVXaWR0aCxcclxuICAgICAgdGhpcy5zbGlkZU1heFdpZHRoLFxyXG4gICAgICB0aGlzLmdhcEJldHdlZW5TbGlkZXNcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5jYXJvdXNlbCA9IG5ldyBDYXJvdXNlbChcclxuICAgICAgY2Fyb3VzZWxDb250YWluZXIsXHJcbiAgICAgIHRoaXMubWF4V2lkdGhDYXJvdXNlbCxcclxuICAgICAgdGhpcy5zbGlkZVRvU2hvdyxcclxuICAgICAgdGhpcy5zbGlkZVdpZHRoLFxyXG4gICAgICB0aGlzLnNsaWRlTWF4V2lkdGgsXHJcbiAgICAgIHRoaXMuZ2FwQmV0d2VlblNsaWRlcyxcclxuICAgICAgdGhpcy5yZXNwb25zaXZlLFxyXG4gICAgICB0aGlzLmluZmluaXRlXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuc2xpZGVyID0gbmV3IFNsaWRlcihcclxuICAgICAgdGhpcy5jYXJvdXNlbCxcclxuICAgICAgdGhpcy5yZXNwb25zaXZlLFxyXG4gICAgICB0aGlzLnNsaWRlVG9TY3JvbGwsXHJcbiAgICAgIHRoaXMuYXV0b3NsaWRlTGltaXRQZXJjZW50Q2FyZCxcclxuICAgICAgdGhpcy5zdHJlY2hpbmdMaW1pdCxcclxuICAgICAgdGhpcy5hdXRvU2xpZGUsXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uVGltaW5nRm4sXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uVGltaW5nTXMsXHJcbiAgICAgIHRoaXMubWF4RG9tU2l6ZSxcclxuICAgICAgdGhpcy5lbmFibGVNb3VzZURyYWcsXHJcbiAgICAgIHRoaXMuZW5hYmxlVG91Y2gsXHJcbiAgICAgIHRoaXMuaW5maW5pdGUsXHJcbiAgICAgIHRoaXMuY2Fyb3VzZWxTZXJ2aWNlXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMubGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLmNoYW5nZURldGVjdGlvbi5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHt9XHJcblxyXG4gIGxpc3RlbmVycygpIHtcclxuICAgIHRoaXMubW91c2V1cFN1YnNjcmlwdGlvbiA9IGZyb21FdmVudCh3aW5kb3csICdtb3VzZXVwJykuc3Vic2NyaWJlKFxyXG4gICAgICAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5zbGlkZXI/LmRyYWdnaW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc2xpZGVyPy5kcmFnU3RvcChldmVudCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLlZDaGFuZ2VTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQoXHJcbiAgICAgIGRvY3VtZW50LFxyXG4gICAgICAndmlzaWJpbGl0eWNoYW5nZSdcclxuICAgICkuc3Vic2NyaWJlKChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLnNsaWRlcj8udW5BY3RpdmVUYWIoZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZXNpemVTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQod2luZG93LCAncmVzaXplJykuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVpbml0aWFsaXNlIHZhcmlhYmxlcyBhdCByZXNpemVcclxuICAgKi9cclxuICByZXNpemUoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2xpZGVyKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5jYXJvdXNlbD8udXBkYXRlUHJvcGVydGllcygpO1xyXG4gICAgdGhpcy5zbGlkZXIudXBkYXRlUHJvcGVydGllcygpO1xyXG5cclxuICAgIHRoaXMuc2xpZGVyLmN1cnJlbnRTbGlkZSA9IDA7XHJcbiAgICB0aGlzLnNsaWRlci5hY2N1bXVsYXRlZFNsaWRlID0gMDtcclxuICAgIHRoaXMuc2xpZGVyLmNvbXB1dGVUcmFuc2Zvcm1hdGlvbigwKTtcclxuICAgIHRoaXMuc2xpZGVyLmNoYW5nZVByZXZBbmROZXh0TGltaXRzKDApO1xyXG4gICAgdGhpcy5jYXJvdXNlbFNlcnZpY2Uub25DaGFuZ2UoXHJcbiAgICAgIHRoaXMuc2xpZGVyLmN1cnJlbnRTbGlkZSxcclxuICAgICAgdGhpcy5zbGlkZXIuY3VycmVudENhcm91c2VsSURcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5jaGFuZ2VEZXRlY3Rpb24ubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMubW91c2V1cFN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMuVkNoYW5nZVN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMucmVzaXplU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY29udGFpbmVyXCI+XHJcbiAgPGRpdiBjbGFzcz1cImJhbm5lci1jb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJidG4tY29udGFpbmVyXCIgKm5nSWY9XCJhcnJvd3NcIj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIGNsYXNzPVwicHJldlwiXHJcbiAgICAgICAgYXJpYS1sYWJlbD1cInByZXZpb3VzIGJ1dHRvbiBuYXZpZ2F0aW9uXCJcclxuICAgICAgICAoY2xpY2spPVwic2xpZGVyPy5wcmV2KClcIlxyXG4gICAgICAgIFtkaXNhYmxlZF09XCJcclxuICAgICAgICAgICFpbmZpbml0ZSAmJlxyXG4gICAgICAgICAgKChzbGlkZXI/LmN1cnJlbnRTbGlkZSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAoc2xpZGVyPy5jdXJyZW50VHJhbnNsYXRpb24gfHwgMCkgPj0gMCkgfHxcclxuICAgICAgICAgICAgY2Fyb3VzZWw/Lm51bWJlckRvdHMgPT09IDEpXHJcbiAgICAgICAgXCJcclxuICAgICAgPlxyXG4gICAgICAgIDxzdmdcclxuICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgaGVpZ2h0PVwiMTZcIlxyXG4gICAgICAgICAgd2lkdGg9XCIxNlwiXHJcbiAgICAgICAgICB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgIGQ9XCJNOS40IDIzMy40Yy0xMi41IDEyLjUtMTIuNSAzMi44IDAgNDUuM2wxMjggMTI4YzEyLjUgMTIuNSAzMi44IDEyLjUgNDUuMyAwczEyLjUtMzIuOCAwLTQ1LjNMMTA5LjMgMjg4IDQ4MCAyODhjMTcuNyAwIDMyLTE0LjMgMzItMzJzLTE0LjMtMzItMzItMzJsLTM3MC43IDAgNzMuNC03My40YzEyLjUtMTIuNSAxMi41LTMyLjggMC00NS4zcy0zMi44LTEyLjUtNDUuMyAwbC0xMjggMTI4elwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvc3ZnPlxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIGNsYXNzPVwibmV4dFwiXHJcbiAgICAgICAgYXJpYS1sYWJlbD1cIm5leHQgYnV0dG9uIG5hdmlnYXRpb25cIlxyXG4gICAgICAgIChjbGljayk9XCJzbGlkZXI/Lm5leHQoKVwiXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cIlxyXG4gICAgICAgICAgIWluZmluaXRlICYmXHJcbiAgICAgICAgICAoKHNsaWRlcj8uY3VycmVudFNsaWRlID09PSAoY2Fyb3VzZWw/Lm51bWJlckRvdHMgfHwgMCkgLSAxICYmXHJcbiAgICAgICAgICAgIChzbGlkZXI/LmN1cnJlbnRUcmFuc2xhdGlvbiB8fCAwKSA8PVxyXG4gICAgICAgICAgICAgIC0oY2Fyb3VzZWw/Lm1heFNjcm9sbGFibGVDb250ZW50IHx8IDApKSB8fFxyXG4gICAgICAgICAgICBjYXJvdXNlbD8ubnVtYmVyRG90cyA9PT0gMSlcclxuICAgICAgICBcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgICAgICAgICBoZWlnaHQ9XCIxNlwiXHJcbiAgICAgICAgICB3aWR0aD1cIjE2XCJcclxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgZD1cIk01MDIuNiAyNzguNmMxMi41LTEyLjUgMTIuNS0zMi44IDAtNDUuM2wtMTI4LTEyOGMtMTIuNS0xMi41LTMyLjgtMTIuNS00NS4zIDBzLTEyLjUgMzIuOCAwIDQ1LjNMNDAyLjcgMjI0IDMyIDIyNGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJzMTQuMyAzMiAzMiAzMmwzNzAuNyAwLTczLjQgNzMuNGMtMTIuNSAxMi41LTEyLjUgMzIuOCAwIDQ1LjNzMzIuOCAxMi41IDQ1LjMgMGwxMjgtMTI4elwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvc3ZnPlxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNvdW50ZXJcIiAqbmdJZj1cImNvdW50ZXJcIj5cclxuICAgICAgPHA+XHJcbiAgICAgICAge3sgKHNsaWRlcj8uY3VycmVudFNsaWRlIHx8IDApICsgMSB9fSB7eyBjb3VudGVyU2VwYXJhdG9yIH19XHJcbiAgICAgICAge3sgY2Fyb3VzZWw/Lm51bWJlckRvdHMgfX1cclxuICAgICAgPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDxkaXZcclxuICAgIGNsYXNzPVwic2xpZGVzLWNvbnRhaW5lclwiXHJcbiAgICBbY2xhc3MuZHJhZ2dpbmddPVwic2xpZGVyPy5kcmFnZ2luZ1wiXHJcbiAgICAobW91c2Vkb3duKT1cInNsaWRlcj8uZHJhZ1N0YXJ0KCRldmVudClcIlxyXG4gICAgKHRvdWNoc3RhcnQpPVwic2xpZGVyPy5kcmFnU3RhcnQoJGV2ZW50KVwiXHJcbiAgICAobW91c2Vtb3ZlKT1cInNsaWRlcj8uZHJhZ01vdmUoJGV2ZW50KVwiXHJcbiAgICAodG91Y2htb3ZlKT1cInNsaWRlcj8uZHJhZ01vdmUoJGV2ZW50KVwiXHJcbiAgICAodG91Y2hlbmQpPVwic2xpZGVyPy5kcmFnU3RvcCgkZXZlbnQpXCJcclxuICAgICNzbGlkZXNcclxuICA+XHJcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDxkaXYgY2xhc3M9XCJidWxsZXRzLWNvbnRhaW5lclwiICpuZ0lmPVwiZG90c1wiPlxyXG4gICAgPGJ1dHRvblxyXG4gICAgICBjbGFzcz1cImJ1bGxldFwiXHJcbiAgICAgIGFyaWEtbGFiZWw9XCJidWxsZXQgcG9pbnQgbmF2aWdhdGlvblwiXHJcbiAgICAgICpuZ0Zvcj1cImxldCBidWxsZXQgb2YgY2Fyb3VzZWw/LmFycmF5TnVtYmVyRG90c1wiXHJcbiAgICAgIFtjbGFzcy5jdXJyZW50XT1cImJ1bGxldCA9PT0gc2xpZGVyPy5jdXJyZW50U2xpZGVcIlxyXG4gICAgICAoY2xpY2spPVwic2xpZGVyPy5nb1RvKGJ1bGxldClcIlxyXG4gICAgPjwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19